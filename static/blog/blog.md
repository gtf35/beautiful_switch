# åšä¸€ä¸ªæ¼‚äº®çš„å¼€å…³å¹¶å‘å¸ƒ Jcenter ä»“åº“

ä»Šå¤©å¤œç™½ç»™æˆ‘ä¸€ä¸ªè®¾è®¡å›¾ï¼Œé—®æˆ‘èƒ½ä¸èƒ½å®ç°ï¼š

![è®¾è®¡å›¾](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/yuanpic.png)

è¯¶å˜¿ï¼Œå’±ä»¬å®Œå…¨ä¸æ…Œå˜€ï¼Œèµ°èµ·æ¥

![å®Œå…¨ä¸æ…Œ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/wqbh.jpg)

æ–°å»ºä¸€ä¸ªã€ŒEmpty Activityã€ çš„é¡¹ç›®ï¼ŒåŒ…åï¼šã€Œtop.gtf35.customuiã€ï¼ŒAPI 18

![æ–°å»ºé¡¹ç›®](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/xjxm.png)

ç„¶åå†æ–°å»ºä¸€ä¸ªåº“æ¥æ‰¿è½½è‡ªå®šä¹‰æ§ä»¶ï¼šã€ŒFileã€-ã€ŒNewã€-ã€ŒNew Moduleã€

![æ–°å»ºåº“](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/xjlib.png)

é€‰ã€ŒAndroid Libraryã€

![é€‰ Android Library](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/androidlib.png)

ç¼–è¾‘ä¸€ä¸ª library çš„ä¿¡æ¯ï¼Œè¿™é‡Œå°±éƒ½å«ã€ŒBeautifulSwitchã€äº†ï¼Œç¾ä¸½çš„æ§ä»¶

![1566186764469](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/configlib.png)

ä¸ç®¡å¥½çœ‹ä¸å¥½çœ‹ï¼Œå°±å«æ¼‚äº®çš„æ§ä»¶ï¼Œå°±æ˜¯è¿™ä¹ˆè‡ªä¿¡

![å°±æ˜¯è‡ªä¿¡](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/zmzx.jpg)

äºæ˜¯ç°åœ¨å°±åº”è¯¥èƒ½çœ‹åˆ°ä¸¤ä¸ªæ¨¡å—äº†ï¼Œé»˜è®¤çš„ã€Œappã€å’Œæ–°å»ºçš„ã€ŒBeautifulSwitchã€

![çœ‹åˆ°ä¸¤ä¸ªæ¨¡å—](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/kdlgmk.png)

è¿™æ—¶ï¼Œæˆ‘ä»¬çš„åº“è¿˜æ²¡æœ‰ä¾èµ–åˆ° app ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸‹ä¾èµ–

```java
dependencies {
    ......
    implementation project(':BeautifulSwitch')//ä¾èµ–æœ¬åœ° BeautifulSwitch åº“
	......
}
```

![æ·»åŠ æœ¬åœ°ä¾èµ–](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/tjbdyl.png)

è‡ªå®šä¹‰æ§ä»¶çš„å®¶å°±å»ºå¥½äº†ã€‚å•¥ç©æ„ï¼Œè¿™å¹´å¤´æ§ä»¶éƒ½æœ‰æˆ¿äº†ï¼Ÿ

![æ²¡è½¦æ²¡æˆ¿](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/mcmf.gif)

å”‰ï¼Œåœ¨ BeautifulSwitch é¡¹ç›®ä¸‹æ–°å»ºä¸€ä¸ª BeautifulSwitch ç±»ç»§æ‰¿è‡ª View å¼€å§‹ç”»æ§ä»¶

![æ–°å»ºç±»](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/xjl.jpg)

ä¼šå‘ç°æœ‰æŠ¥é”™ï¼ŒæŒ‰ alt + enter ä¿®å¤

![æœ‰æŠ¥é”™](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/ybc.png)

æŒ‰ä½ ctrl å¤šé€‰ï¼Œé€‰å‰ 3 ä¸ªé‡å†™

![é€‰å‰3ä¸ª](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/xqsg.png)

å®Œæˆä¹‹åå°±æ˜¯è¿™ä¸ªæ ·å­ï¼š

![å®Œæˆå›¾](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/wczhjszgyz.png)

è¿˜è®°å¾—è‡ªå®šä¹‰æ§ä»¶çš„ç²¾é«“ä¹ˆï¼ŒonDraw å‘€

![ç›¸è§†ä¸€ç¬‘](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/xsyx.jpg)

æŒ‰ ctrl + o æ‰“å¼€é‡å†™ç•Œé¢ï¼Œç›´æ¥é”®ç›˜è¾“å…¥ onDraw å³å¯è‡ªåŠ¨é€‰ä¸­ï¼Œå›è½¦ç¡®å®š

![é‡å†™ç•Œé¢](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/cxjm.png)

ä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸‹è¿™ä¸ªè®¾è®¡å›¾

![](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/fenjie.jpg)

å¯ä»¥çœ‹åˆ°ï¼Œä¸€å…±åˆ†ä¸º5éƒ¨åˆ†ï¼Œå·¦è¾¹åŠåœ†(åŠå¾„30)ï¼Œå³è¾¹åŠåœ†ï¼Œä¸Šç›´çº¿(é•¿åº¦130)ï¼Œä¸‹ç›´çº¿ï¼Œä¸­é—´åœ†å¿ƒ(ç›´å¾„20)ï¼Œå…¶ä¸­çº¿æ¡å®½åº¦10

![å¢¨ç£¨å½](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/mj.jpg)

å®šä¹‰ä¸€ä¸ªç»˜åˆ¶ç›¸å…³ä¿¡æ¯ç±»ï¼Œã€ŒInfosã€ï¼š

![åŸºç¡€ç»˜åˆ¶ä¿¡æ¯ç±»](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/jchzxxl.png)

è¦åœ¨è¿™é‡Œä¸€æ¬¡æ€§æ–°å»ºå¥½æ‰€æœ‰çš„ç»˜åˆ¶æ‰€ç”¨çš„å¯¹è±¡ï¼Œå› ä¸ºæ¯æ¬¡éƒ½åœ¨ onDraw é‡Œæ–°å»ºå¯¹è±¡ï¼Œæ¯”è¾ƒè€—è´¹æ€§èƒ½

![ç»˜åˆ¶ä¿¡æ¯ç±»](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/hzxxl.png)

å› ä¸ºæ²¡æœ‰ç”»åœ†çš„ API ï¼Œå°±åªèƒ½ç”»æ¤­åœ†äº†ã€‚å› ä¸ºä¸¤ä¸ªæ¤­åœ†çš„ä½ç½®ä¸å˜ï¼Œæ‰€ä»¥æ¤­åœ†çš„å¤–åˆ‡çŸ©å½¢ä¹Ÿéœ€è¦æå‰å®šä¹‰å¥½

![å·¦åœ†](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/zy.jpg)

è“è‰²å®çº¿æ˜¯ view çš„åæ ‡ç³»ï¼Œç²‰è‰²ç”°å­—æ¡†çº¿ä¸ºå¤–æ¥çŸ©å½¢ï¼Œç»¿è‰²å®çº¿ä¸ºå¤–æ¥çŸ©å½¢å››æ¡è¾¹çš„åæ ‡

äºæ˜¯ä¾¿å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š

![ç»˜åˆ¶ä¸¤ä¸ªåŠåœ†çš„å¤–åˆ‡çŸ©å½¢](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/hzlgby.png)

å› ä¸ºä¸Šè¿°çš„å°ºå¯¸éƒ½æ˜¯æ¯”ä¾‹ï¼Œæ‰€ä»¥åœ¨çœŸæ­£ç»˜åˆ¶æ—¶çš„å°ºå¯¸éœ€è¦å®æ—¶è®¡ç®—ç¼©æ”¾æ¯”ä¾‹ï¼š

![çœŸæ­£ç»˜åˆ¶çš„å°ºå¯¸è®¡ç®—](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/ssjscc.png)

ç®—å‡ºæ¥å½“å‰çš„é«˜å’Œå®½ï¼Œå…ˆå‡è®¾å¯ä»¥æŒ‰å®½è®¡ç®—ç¼©æ”¾æ¯”ï¼Œå³ç”¨å®é™…çš„å®½é™¤ä¸Šå½“å‰çš„å®½å¾—åˆ°ç¼©æ”¾æ¯”ä¾‹ã€‚

ç”¨è¿™ä¸ªæ¯”ä¾‹ç¼©æ”¾ä¸‹é«˜ï¼Œè¦æ˜¯è¶…è¿‡ç”»å¸ƒçš„é«˜åº¦è¯æ˜éœ€è¦æŒ‰é«˜é‡æ–°è®¡ç®—ç¼©æ”¾æ¯”ï¼Œè¿™æ—¶å€™å°±å¾—åˆ°äº†ç»˜åˆ¶éœ€è¦çš„å°ºå¯¸ã€‚ä½†æ˜¯æ§ä»¶åœ¨æ°´å¹³ä¸Šå¡«å……ï¼Œåœ¨å‚ç›´ä¸Šå±…ä¸­æ‰ä¼šå¥½çœ‹ã€‚æ‰€ä»¥è¿˜éœ€è¦ç›´çº¿é•¿åº¦å¡«å……ç”»å¸ƒå®½åº¦ï¼Œéœ€è¦å¼•å…¥å¹¶è®¡ç®—å‚ç›´åç§»é‡

![çœŸé—¹å¿ƒ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/znx.jpg)

ç„¶åé‡å†™ onMeasure è°ƒç”¨æˆ‘ä»¬çš„è®¡ç®—æ–¹æ³•ï¼š

ä¸»è¦å°±æ˜¯å¤„ç† wrap_content å’Œ match_parent

![é‡å†™æµ‹é‡](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/cxcl.png)

å®šä¹‰ä¸‹éœ€è¦çš„é¢œè‰²ç­‰å…¨å±€å˜é‡

![å…¨å±€å˜é‡](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/qjbl.png)

æ¥å¤§ä½“æƒ³ä¸€ä¸‹éœ€è¦æš´éœ²çš„ xml å±æ€§ï¼Œå…ˆåœ¨ res/values ä¸‹æ–°å»º attrs.xml

![æ–°å»ºattrs](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/xjattrs.png)

éœ€è¦å¯ä»¥åœ¨å¸ƒå±€ä¸­å®šä¹‰é»˜è®¤é¢œè‰²ï¼Œé»˜è®¤æ˜¯è¢«ç¦ç”¨ï¼Œé»˜è®¤çš„å¼€å¯çŠ¶æ€ï¼Œé¢œè‰²åˆåˆ†ä¸ºï¼š

- å¼€å¯çš„æ—¶å€™å¤–æ¡†çº¿é¢œè‰²
- å…³é—­çš„æ—¶å€™å¤–æ¡†çº¿é¢œè‰²
- å¼€å¯çš„æ—¶å€™å†…éƒ¨çš„å°åœ†é¢œè‰²
- å…³é—­çš„æ—¶å€™å†…éƒ¨å°åœ†çš„é¢œè‰²

![attrs](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/attrs.png)

åœ¨æ„é€ æ–¹æ³•é‡Œå¼•å…¥

![å¼•å…¥å±æ€§](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/yrsx.png)

å®šä¹‰é¢œè‰²çš„ setter å’Œ getter æ–¹æ³•

![é¢œè‰²çš„setterå’Œgetter](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/yssg.png)

å®šä¹‰å¯ç”¨/ç¦ç”¨/å¼€å¯/å…³é—­çš„æš´éœ² api

![æš´éœ²çš„api](C:\Users\gtf35\Desktop\è‡ªå®šä¹‰æ§ä»¶\blapi.png)

å› ä¸ºåœ¨è¢«ç³»ç»Ÿå›æ”¶å(ä¾‹å¦‚å±å¹•æ—‹è½¬)ä¼šé‡å»ºï¼Œå…¨å±€å˜é‡ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥è¦é‡å†™ onSaveInstanceState  å’Œ onRestoreInstanceState æ¥ä¿å­˜å’Œæ¢å¤ä¿¡æ¯ã€‚

å®šä¹‰éœ€è¦ä¿å­˜çš„å˜é‡çš„keyï¼š

![å®šä¹‰key](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/dykey.png)

é‡å†™ onSaveInstanceState åœ¨é”€æ¯çš„æ—¶å€™ä¿å­˜ä¿¡æ¯

![ä¿å­˜ä¿¡æ¯](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bcxx.png)

 é‡å†™ onRestoreInstanceState æ¥æ¢å¤ä¿¡æ¯

![æ¢å¤ä¿¡æ¯](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/hfxx.png)

å®šä¹‰ç‚¹å‡»ç›‘å¬å’ŒçŠ¶æ€æ”¹å˜ç›‘å¬æ¥å£

![å®šä¹‰æ¥å£](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/dyjk.png)

å®šä¹‰æ¥å£æš´éœ²çš„ setter æ–¹æ³•

![æ¥å£æš´éœ²](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/jiekoubaolu.png)

éƒ½å‡†å¤‡å¥½äº†ï¼Œåœ¨ onDraw é‡Œå¼€ç”»

![ç”»å›¾](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/kaihua.png)

ç»†èŠ‚åœ¨æˆªå›¾ä¸­ï¼Œä¸çŸ¥é“æ•°å­¦è®¡ç®—å¦‚ä½•å¾—å‡ºæ¥çš„è‡ªå·±ç”»ä¸ªè‰å›¾å°±çŸ¥é“äº†

![ä½ æ”¾å±](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/nfp.jpg)

æ˜¯æ—¶å€™è®©ä»–åŠ¨èµ·æ¥äº†ï¼ŒåŠ¨ç”»åˆ†æˆä¸¤éƒ¨åˆ†ï¼šä¸­é—´å°åœ†çš„ç§»åŠ¨å’Œé¢œè‰²çš„æ¸å˜ã€‚

å°åœ†çš„ç§»åŠ¨ä½¿ç”¨ ObjectAnimator æ¥ç›´æ¥è°ƒç”¨å†…éƒ¨ progress çš„ getter å’Œ setter æ–¹æ³•ï¼š

```java
ObjectAnimator animator = ObjectAnimator.ofInt(this, "progress", mProgress, 100);animator.start();
```

é¢œè‰²çš„å˜æ¢ä½¿ç”¨ ValueAnimator ï¼Œå†…éƒ¨æ‰‹åŠ¨è°ƒç”¨æ”¹å˜é¢œè‰²ï¼š

![1566279226077](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/ysdh.png)

æ€»ä½“æ¥çœ‹ï¼Œå¼€å…³çš„å¼€å¯å¼€å¯åŠ¨ç”»è¿‡ç¨‹å¦‚ä¸‹ï¼š

![å¼€å¯åŠ¨ç”»](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/kqdh.png)

ç›¸åº”çš„å…³é—­åŠ¨ç”»ä¹Ÿå·®ä¸å¤šï¼š

![å…³é—­åŠ¨ç”»](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/gbdh.png)

å†™ä¸€ä¸ªåˆ‡æ¢æ‰“å¼€/å…³é—­çš„æ–¹æ³•ï¼Œæš´éœ²å‡ºæ¥ï¼Œæ–¹ä¾¿åˆ«äººå’Œè‡ªå·±è°ƒç”¨

![1566282293329](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/kgqh.png)

ä¸ºäº†è®©ä»–å¯ä»¥å“åº”ç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦é‡å†™ onTouchEvent ï¼Œåœ¨æ‰‹æŒ‡æŠ¬èµ·æ—¶è°ƒç”¨åˆ‡æ¢çŠ¶æ€çš„æ–¹æ³•

![é‡å†™ onThouch](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/ontouch.png)

æˆ‘ä»¬åœ¨ app æ¨¡å—çš„ MainActivity é‡ŒåŠ å…¥è¿™ä¸ªæ§ä»¶ï¼Œè¿è¡Œæµ‹è¯•ä¸€ä¸‹

![æµ‹è¯•ç»“æœ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/csjg.png)

æ²¡æ¯›ç—…ï¼Œso easy

![666](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/666.jpg)

ä¸‹é¢æˆ‘ä»¬ä¸Šä¼  GitHubï¼Œé€ ç¦ç¤¾ä¼š

å®Œæˆç‰ˆæœ¬å¯å‚è€ƒï¼šæˆ‘çš„[GitHub](https://github.com/gtf35/beautiful_switch/blob/master/BeautifulSwitch/src/main/java/top/gtf35/withyebai/BeautifulSwitch.java)

å…ˆå¼•å…¥ git ç‰ˆæœ¬æ§åˆ¶ï¼š

![å¼•å…¥ç‰ˆæœ¬æ§åˆ¶](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/jrbbkz.png)

ç„¶åå³ä¸Šè§’çš„å‹¾å‹¾æäº¤ä¸€ä¸ª commitï¼š

![æäº¤commit](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/commit.png)

é€‰é™¤äº† .idea ä¹‹å¤–çš„æ‰€æœ‰éœ€è¦çš„æ–‡ä»¶

![æäº¤commit](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/tijiaocommit.png)

æœ‰è­¦å‘Šï¼Œæç¤ºæœ‰ warnings æ²¡æœ‰å¤„ç†ï¼Œæˆ‘ä»¬ç‚¹ä¸­é—´çš„ commit ç»§ç»­æäº¤

![æœ‰è­¦å‘Š](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/yjg.png)

åº•éƒ¨æ˜¾ç¤ºæäº¤æˆåŠŸï¼Œæˆ‘ä»¬å°±å·²ç»å‡†å¤‡å¥½äº†æœ¬åœ°çš„ç‰ˆæœ¬æ§åˆ¶

![æäº¤æˆåŠŸ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/tjcg.png)

ç°åœ¨æˆ‘ä»¬æäº¤åˆ° GitHub

![æäº¤ Github](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/tjgitub.png)

ç„¶åä»–å°±ä¼šæ£€æŸ¥ä½ åœ¨ GitHub ä¸Šçš„ç™»å½•ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰ç™»é™†è¿‡ä¼šè¦æ±‚ä½ è¾“å…¥è´¦å·å¯†ç 

![ç™»å½• GitHub](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/dlgtihub.png)

ç„¶åè¾“å…¥ä»“åº“åå­—å’Œæè¿°ï¼Œç‚¹å‡» share ï¼Œä»–å°±ä¼šæŠŠé¡¹ç›®åˆ†äº«åˆ° GitHub

![å¡«å†™ä¿¡æ¯](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/sptgotub.png)

å½“å³ä¸‹è§’å‡ºç°è¿™ä¸ªæç¤ºæ—¶ï¼Œå°±ä¸Šä¼ å®Œæˆäº†

![ä¸Šä¼ æˆåŠŸ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/sharesuccess.png)

ç°åœ¨æˆ‘ä»¬æ¥è€ƒè™‘ä¸Šä¼ åˆ° jcenter ï¼Œè®©åˆ«äººå¯ä»¥ä¸€å¥ implementation å°±ä¾èµ–ä½ çš„æ§ä»¶

![è°çˆ±ç”¨å‘€](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/wu.jpg)

è¯´çš„å¥½åƒæœ‰äººç”¨ä¸€æ ·ï¼ŒğŸ¤¦â€â™€ï¸ï¼Œæˆ‘ä»¬å…ˆæ³¨å†Œä¸€ä¸ª jcenter çš„è´¦å·

æ‰“å¼€ bintray çš„[å…è´¹è´¦å·æ³¨å†Œ](https://bintray.com/signup)ç•Œé¢ï¼Œæ³¨æ„ä¸€å®šæ˜¯å…è´¹è´¦å·ï¼Œå¦åˆ™æ˜¯ 30 å¤©ä¼ä¸šç‰ˆè¯•ç”¨ï¼Œæ˜¯æ²¡æœ‰ä¸‹é¢çš„ä¸€äº›é€‰é¡¹çš„

![æ³¨å†Œè´¦å·](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/zczh.png)

è¿™é‡Œç›´æ¥ç”¨ GitHub ç™»å½•å°±å¯ä»¥äº†ï¼Œå†å¡«å…¥é‚®ç®±ç­‰åŸºæœ¬ä¿¡æ¯ï¼Œå°±å¯ä»¥ç™»å½•äº†

![ä¸»ç•Œé¢](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/jcenterzjm.png)

é€‰æ‹©ä¸»ç•Œé¢ä¸Šçš„ Add New Repository ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„ä»“åº“

![æ·»åŠ æ–°ä»“åº“](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/tjxck.png)

åœ¨ name é‡Œç»™ä»“åº“èµ·ä¸ªå¥½åå­—ï¼Œ æˆ‘å°±å« maven ï¼Œç„¶å Type ç±»å‹é€‰ Maven ï¼Œç„¶å Create åˆ›å»ºå³å¯ã€‚

æç¤ºï¼šåå­—æœ€å¥½å°±å« maven ï¼Œè¿™æ˜¯ä¸€ä¼šè¦ç”¨çš„æ’ä»¶çš„é»˜è®¤åå­—ï¼Œå¦‚æœä¸å«è¿™ä¸ªï¼Œä¸€ä¼šåœ¨è®²æ’ä»¶é‚£é‡Œï¼Œè®°å¾—å¯¹å·å…¥åº§ä¿®æ”¹ :)

åœ¨ä¸»ç•Œé¢ä¸Šå°±èƒ½çœ‹åˆ°æˆ‘ä»¬æ–°å»ºçš„ä»“åº“äº†

![çœ‹åˆ°æ–°å»ºçš„ä»“åº“](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/kdxjdck.png)

ç‚¹å‡»åå­—è¿›å…¥ä»“åº“

![è¿›å…¥ä»“åº“](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/jrck.png)

åœ¨ä»“åº“ä¸­ï¼Œé€‰ add new package åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ…ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªåŒ…æ¥æ”¾æˆ‘ä»¬çš„æ§ä»¶

![è®¾ç½®é¡¹ç›®](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/szxm.png)

- Name(åå­—)å°±å†™æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®çš„åå­—äº†ï¼šBeautifulSwitch
- Description(æè¿°)å°±å†™æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®çš„æè¿°ï¼šan beautiful switch on Android
- Licenses(è®¸å¯è¯)å°±å†™æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®çš„è®¸å¯è¯ï¼Œæˆ‘ä¸»è¦å°±æ˜¯ä¸ºäº†åˆ†äº«ï¼Œæˆ‘å°±ç”¨ MIT è®¸å¯è¯äº†
- Version control (ç‰ˆæœ¬æ§åˆ¶)è¿™é‡Œå†™æˆ‘ä»¬åˆšæ‰åœ¨ Github çš„å¼€æºåœ°å€ï¼Œè¿™ä¸ªå¿…é¡»æ˜¯ä¸€ä¸ªç½‘å€ï¼Œå¦åˆ™æ—¥ååœ¨æäº¤çš„æ—¶å€™ä¼šæç¤º Version control 404

ç„¶å Create Package åˆ›å»ºåŒ…ï¼Œæˆ‘ä»¬è¿™ä¸ªå®¹å™¨å°±åˆ›å»ºå¥½äº†ã€‚å…¶ä¸­ Name è¦è®°å¥½

è¿™æ—¶å€™æˆ‘ä»¬åœ¨ jcenter è¿™è¾¹ç®—æ˜¯å‡†å¤‡å·®ä¸å¤šäº†ï¼Œå°±å·®æŸ¥çœ‹ api key äº†

![1566297167171](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/djtx.png)

æŠŠé¼ æ ‡æ”¾åœ¨ç½‘é¡µå³ä¸Šè§’çš„å¤´åƒä¸Šï¼Œä¼šå¼¹å‡ºä¸€ä¸ªèœå•ï¼Œé€‰ Edit Profile

![ç‚¹å‡»api](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/djapi.png)

ç‚¹å‡»å·¦è¾¹çš„ API Key é€‰é¡¹

![ç‚¹å‡»å¤åˆ¶æŒ‰é’®](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/djfz.png)

ç‚¹å‡»å¤åˆ¶æŒ‰é’®å¤åˆ¶ api keyï¼Œç°åœ¨å›åˆ°æˆ‘ä»¬çš„ä»£ç å‡†å¤‡ä¸Šä¼ åˆ° jcenter

æˆ‘ä»¬æ‰“å¼€æ ¹ç›®å½•ä¸‹çš„ local.properties æ–‡ä»¶

![å¡«å…¥é…ç½®](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/jryhpz.png)

è¿½åŠ ï¼šbintrayKey å’Œ bintrayUserï¼Œåˆ†åˆ«ä¸º API Key å’Œ jcenter ç”¨æˆ·å

è¿™ä¸ªæ–‡ä»¶æœ¬èº«æ˜¯å­˜æ”¾çš„æœ¬åœ°çš„ç›®å½•ï¼Œå±äºä¸åº”è¯¥æ‰‹åŠ¨ç¼–è¾‘çš„ã€‚ä½†æ˜¯ç”±äºä»–åªåœ¨æœ¬æœºæœ‰æ•ˆçš„ç‰¹æ€§ï¼Œä¸ä¼šè¢« Android Studio ç»™é•¿ä¼ åˆ°ä»“åº“(æƒ³é€‰éƒ½æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶)ã€‚æ”¾åœ¨è¿™é‡Œå¯ä»¥é˜²æ­¢ä¸å°å¿ƒä¸Šä¼ è‡ªå·±çš„ Key

![æœ‰å†…é¬¼](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/yng.jpg)

æˆ‘ä»¬æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ build.gradle

![æ·»åŠ æ’ä»¶](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/gmldgradle.png)

æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ’ä»¶ï¼šcom.novoda:bintray-release

```gradle
dependencies {
        ...
        classpath 'com.novoda:bintray-release:0.9.1'
        ...
    }
```

åŒæ­¥ gradle ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€ BeautifulSwitch project çš„ build.gradle

![æ·»åŠ é¡¹ç›®ä¸Šä¼ æ’ä»¶](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/tjsccj.png)

åœ¨æœ«å°¾åŠ å…¥ï¼š

```
apply plugin: 'com.novoda.bintray-release'

Properties properties = new Properties()
properties.load(project.rootProject.file('local.properties').newDataInputStream())
def bintrayUserVal = properties.getProperty('bintrayUser')
def bintrayKeyVal = properties.getProperty('bintrayKey')

publish {
    userOrg = 'gtfdeyouxiang'  //jcenterçš„ç”¨æˆ·å
    groupId = 'top.gtf35.lib.withyebai'    //ç»„ç»‡id
    artifactId = 'BeautifulSwitch'    //libName
    publishVersion = '1.1'        //libVersion
    desc = 'an beautiful switch on Android'//lib desc
    website = 'https://github.com/gtf35/beautiful_switch' //libçš„åœ°å€
    bintrayUser = bintrayUserVal //ä¸Šé¢taskä¸­è¯»å–åˆ°çš„jcenterName
    bintrayKey = bintrayKeyVal //ä¸Šé¢taskä¸­è¯»å–åˆ°çš„apiKey
    dryRun = false
}
```

å…¶ä¸­ userOrg ä¸º jcenter çš„ç”¨æˆ·åã€‚groupId ï¼ŒartifactIdï¼ŒpublishVersionå…±åŒç»„æˆäº†æ—¥åç”¨æˆ·å¼•å…¥çš„ 

```
implementation "groupId:artifactId:publishVersion"
```

artifactId åº”è¯¥å’Œæ–°å»º package æ—¶çš„ Name ä¸€è‡´ï¼Œdescä¸ºé¡¹ç›®æè¿°ï¼Œwebsiteä¸ºé¡¹ç›®ç½‘å€ã€‚

å¦‚æœä½ çš„ä»“åº“ä¸å« mavenï¼Œè¿˜éœ€è¦é…ç½® repoName = 'ä»“åº“åå­—'

é…ç½®å®Œæˆåæ‰“å¼€å³ä¾§çš„ gradle æ ‡ç­¾

![é€‰æ‹©ä¸Šä¼ ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/xzsc.png)

é€‰æ‹© bintrayUpload é€‰é¡¹ä¸Šä¼ åˆ° jcenter ä»“åº“

![å°±ç®—æˆåŠŸ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/jscg.png)

å‡ºç° BUILD SUCCESSFUL å°±ç®—æ˜¯æˆåŠŸäº†ï¼Œæˆ‘ä»¬å›åˆ°åˆšæ‰çš„ç½‘é¡µä¸Šçš„ maven ä»“åº“

![çœ‹çœ‹ç»“æœ](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/kkjg.png)

å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ä»“åº“å·²ç»æœ‰ç‰ˆæœ¬å·äº†ï¼Œç‚¹è¿›å»ï¼Œé€‰ Files

![çœ‹çœ‹æ–‡ä»¶](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/kkwj.png)

èƒ½çœ‹åˆ°å·²ç»æœ‰æ–‡ä»¶äº†ï¼Œæˆ‘ä»¬å†å›åˆ° maven ä»“åº“çš„ä¸»é¡µï¼Œå‡†å¤‡æ·»åŠ åˆ° jcenter

![1566298704563](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/fxjcenter.png)

ç‚¹å‡»å³ä¸‹è§’çš„ Add to JCenterï¼Œæ·»åŠ åˆ° JCenter

![æäº¤å®¡æ ¸](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/tjsh.png)ä½ å¯ä»¥åœ¨æœ€å¤§çš„æ¡†æ¡†é‡Œå†™ä¸€äº›æè¿°ï¼Œä½†æ˜¯æ²¡æœ‰ç‰¹æ®Šæƒ…å†µï¼Œç›´æ¥ç‚¹ send ï¼Œå‘é€å®¡æ ¸å³å¯

å¤§æ¦‚20åˆ†é’Ÿä¹‹åï¼Œå°±ä¼šæ”¶åˆ°é‚®ä»¶

![1566299097123](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/sltjcg.png)

é‚®ä»¶é‡Œè¯´å·²ç»è¢«æ”¶å½•ï¼Œåˆ°è¿™é‡Œå°±å…¨éƒ¨å®Œæˆäº†ã€‚

åˆ«äººå°±å¯ä»¥é€šè¿‡

```
dependencies {
   ....
   implementation 'top.gtf35.lib.withyebai:BeautifulSwitch:1.1'
   ....
}
```

æ¥ä½¿ç”¨ä½ çš„æ§ä»¶äº†ã€‚ç°åœ¨ç»™ä½ çš„æ§ä»¶å†™ä¸€ä¸ªå° demo å’Œ readme åˆ—å‡ºä»‹ç»å’Œç”¨æ³•å°±å¥½äº†

![bye](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/bye.jpg)

æœ€åè´´ä¸€ä¸ªå®Œæˆçš„åŠ¨å›¾

![å®Œæˆå›¾](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/switch.gif)

è¿™ä¸ªä¸Šè¿°çš„æ‰€æœ‰ä»£ç å¯åœ¨æˆ‘çš„[GitHub](https://github.com/gtf35/beautiful_switch/)ä¸Šè·å–ï¼Œæœ€åæ„Ÿè°¢æˆ‘çš„æ­æ¡£å¤œç™½ï¼Œå¤§å®¶æœ‰ç¼˜æ±Ÿæ¹–å†è§

![æ±Ÿæ¹–å†è§](https://github.com/gtf35/beautiful_switch/blob/master/static/blog/bqb/jhzj.jpg)

